<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Children's Vaccination Management System</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="navbar">
                <div class="logo">
                    <a href="/">Vaccination Manager</a>
                </div>
                <ul class="nav-links">
                    <li><a href="/">Home</a></li>
                    <li><a href="/vaccines">Vaccines</a></li>
                    
                    <!-- Show these links only if user is not authenticated -->
                    <li sec:authorize="!isAuthenticated()"><a href="/login">Login</a></li>
                    <li sec:authorize="!isAuthenticated()"><a href="/register">Register</a></li>
                    
                    <!-- Show these links if user is authenticated -->
                    <li sec:authorize="isAuthenticated()"><a href="/children">My Children</a></li>
                    <li sec:authorize="isAuthenticated()"><a href="/appointments">Appointments</a></li>
                    <li sec:authorize="isAuthenticated()"><a href="/profile">Profile</a></li>
                    
                    <!-- Show admin link if user is admin -->
                    <li sec:authorize="hasRole('ADMIN')"><a href="/admin/dashboard">Admin</a></li>
                    
                    <!-- Logout link for authenticated users -->
                    <li sec:authorize="isAuthenticated()">
                        <a href="#" onclick="document.getElementById('logout-form').submit(); return false;">Logout</a>
                        <form id="logout-form" th:action="@{/logout}" method="post" style="display: none;"></form>
                    </li>
                </ul>
            </div>
        </div>
    </header>

    <!-- Banner -->
    <section class="banner">
        <h1>Children's Vaccination Management System</h1>
        <p>Keeping your children healthy through proper vaccination tracking and scheduling</p>
        <div sec:authorize="!isAuthenticated()">
            <a href="/register" class="btn btn-primary">Register Now</a>
        </div>
        <div sec:authorize="isAuthenticated()">
            <a href="/appointments/schedule" class="btn btn-primary">Schedule Appointment</a>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container">
        <!-- Introduction Section -->
        <section class="intro-section mb-2">
            <h2 class="text-center">Welcome to our Vaccination Management System</h2>
            <p class="text-center">Keep track of your children's vaccination schedules, book appointments, and ensure their health is protected against preventable diseases.</p>
        </section>

        <!-- Features Section -->
        <section class="features-section mb-2">
            <div class="row">
                <div class="col-4">
                    <div class="card">
                        <div class="card-header">Track Vaccinations</div>
                        <div class="card-body">
                            <p>Keep a detailed record of all vaccinations for each of your children. Get reminders for upcoming vaccinations.</p>
                        </div>
                    </div>
                </div>
                <div class="col-4">
                    <div class="card">
                        <div class="card-header">Schedule Appointments</div>
                        <div class="card-body">
                            <p>Easily book vaccination appointments for your children. Choose from available time slots and vaccination services.</p>
                        </div>
                    </div>
                </div>
                <div class="col-4">
                    <div class="card">
                        <div class="card-header">Maintain Health Records</div>
                        <div class="card-body">
                            <p>Maintain a complete medical history including vaccination records, adverse reactions, and health notes.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Vaccination Info Section -->
        <section class="vaccination-info-section mb-2">
            <h2 class="text-center">Why Vaccination is Important</h2>
            <div class="row">
                <div class="col-6">
                    <p>Vaccines help protect your child from serious infectious diseases by stimulating their immune system to create antibodies against specific bacteria or viruses. When your child is exposed to these diseases, their immune system can recognize and fight them off.</p>
                    <p>Maintaining an up-to-date vaccination schedule is one of the most important things you can do to protect your child's health.</p>
                    <p>Our system helps you track all recommended vaccines for your child based on their age and medical history.</p>
                </div>
                <div class="col-6">
                    <div class="card">
                        <div class="card-header">Common Vaccines for Children</div>
                        <div class="card-body">
                            <ul>
                                <li>Hepatitis B</li>
                                <li>Rotavirus</li>
                                <li>Diphtheria, tetanus, & acellular pertussis (DTaP)</li>
                                <li>Haemophilus influenzae type b (Hib)</li>
                                <li>Pneumococcal conjugate</li>
                                <li>Inactivated poliovirus</li>
                                <li>Influenza (flu)</li>
                                <li>Measles, mumps, rubella (MMR)</li>
                                <li>Varicella (chickenpox)</li>
                                <li>Hepatitis A</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- How It Works Section -->
        <section class="how-it-works-section mb-2">
            <h2 class="text-center">How It Works</h2>
            <div class="row">
                <div class="col-3">
                    <div class="card">
                        <div class="card-body text-center">
                            <div class="step-number">1</div>
                            <h3>Register</h3>
                            <p>Create an account to get started</p>
                        </div>
                    </div>
                </div>
                <div class="col-3">
                    <div class="card">
                        <div class="card-body text-center">
                            <div class="step-number">2</div>
                            <h3>Add Children</h3>
                            <p>Add your children's information and medical history</p>
                        </div>
                    </div>
                </div>
                <div class="col-3">
                    <div class="card">
                        <div class="card-body text-center">
                            <div class="step-number">3</div>
                            <h3>Book Appointments</h3>
                            <p>Schedule vaccination appointments</p>
                        </div>
                    </div>
                </div>
                <div class="col-3">
                    <div class="card">
                        <div class="card-body text-center">
                            <div class="step-number">4</div>
                            <h3>Track Progress</h3>
                            <p>Monitor vaccination history and upcoming schedules</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Call to Action -->
        <section class="cta-section text-center mb-2">
            <div class="card">
                <div class="card-body">
                    <h2>Get Started Today</h2>
                    <p>Join thousands of parents who trust our system to manage their children's vaccinations.</p>
                    <div sec:authorize="!isAuthenticated()">
                        <a href="/register" class="btn btn-primary">Register Now</a>
                        <a href="/login" class="btn">Login</a>
                    </div>
                    <div sec:authorize="isAuthenticated()">
                        <a href="/children" class="btn btn-primary">View My Children</a>
                        <a href="/appointments/schedule" class="btn">Schedule Appointment</a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Vaccination Manager</h3>
                    <p>Keeping your children healthy through proper vaccination tracking and scheduling.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="/vaccines">Vaccines</a></li>
                        <li sec:authorize="!isAuthenticated()"><a href="/login">Login</a></li>
                        <li sec:authorize="!isAuthenticated()"><a href="/register">Register</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contact Us</h3>
                    <p>Email: info@vaccinationmanager.com</p>
                    <p>Phone: (123) 456-7890</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 Vaccination Management System. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script th:src="@{/js/main.js}"></script>
</body>
</html>
